<!doctype html>

<html lang="en">

<head>
<style>
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}

tr:nth-child(even) {
    background-color: #dddddd;
}
</style>
	<meta charset="utf-8">

	<title>flood-modelling</title>

	<meta name="description" content="Responsive Header Nav">

	<meta name="author" content="Treehouse">

	<meta name="viewport" content="width=device-width; initial-scale=1; maximum-scale=1">

		<link rel="stylesheet" href="/css/style-overtopping.css">
		<link rel="stylesheet" href="/css/style-footer.css">


	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">

	<link href="http://fonts.googleapis.com/css?family=Cookie" rel="stylesheet" type="text/css">

	
	<!--[if IE]> <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>


<script>
  var stage = 1;
  var tpbp = 1;
  var slbp = 1;
  var wabp = 1;
  var bpwall = ""	
  var bpslope = ""
  var bptetra = ""
  nruns = 0
  
  
  $( function() {
    $( ".dragBoxblackpool" ).draggable({helper : 'clone' });
    $( "#droppable" ).droppable({ 

      drop: function( event, ui ) {      
      $("#myVisualisationtext").text("");      
      $("#topBoxdiv").addClass("tetrapodElem");      
      $("#middleBoxdiv").addClass("slopeElem");
      $("#bottomBoxdiv").addClass("wallElem");   
      $("#myInstruction").text("Drag a defence type on the proposed defence zone in grey.");
	      
    
	      

      if((ui.draggable.is(".dragBoxblackpool"))&&(stage==1)){
          $("#droppable").addClass("newclassBpool"); 
      }
	      
      if(ui.draggable.is(".tetrapodResultblackpool")){
	 var $table1 = $('<table><tr><th>Model Parameters</th><th></th></tr><tr><th>Location</th><th>Blackpool</th></tr><tr><th>Defence type</th><th>Tetrapod</th></tr><tr><th>Wave height</th><th>3 m</th></tr><tr><th>Wave Period</th><th>8 secs</th></tr><tr><th>Min freeboard</th><th>+1 m</th></tr><tr><th>Resolution</th><th>5 m</th></tr><tr><th>Results</th><th></th></tr><tr><th>Max depth</th><th>4.35 m</th></tr><tr><th>Flooded area</th><th>30925 m^2</th></tr><tr><th>No. buildings</th><th>4</th></tr><tr><th>Infrastructure</th><th>roads;rail/tram;</th></tr></table>');
         $table1.appendTo($("#droppable"));
      }	
	      
      if((ui.draggable.is(".tetrapodElem"))&&(stage>1&&bptetra!=="run")){
	  bptetra = "run"
	  nruns = nruns + 1
	  $("#myInstruction").text("Tetrapod layer added.");
          $("#droppable").addClass("bpoolTetrapods");
	  setTimeout(
		  function(){
			  $("#myInstruction").text("Visualising overtopping for: Wave height - 3m; Wave period - 8 secs; Freeboard at HW - +1m") 
		  },3000);
	  setTimeout(
		  function(){
			  $("#myInstruction").text("Visualisation finished. Add another defence type or view results.")
			  $("#topBoxdiv").removeClass("tetrapodElem")
			  $("#topBoxdiv").addClass("tetrapodResultblackpool")
			  if (nruns==1){
			      var $input = $('<input class=resetButton type="button" onClick="viewResults()" value="View results" />');
                               $input.appendTo($("#dynamicinstructionBox"));
			  }
                          
	          },9000); 
      }
	      
      if((ui.draggable.is(".slopeElem"))&&(stage>1&&bpslope!=="run")){
	  bpslope="run"
	  nruns = nruns + 1
	  $("#myInstruction").text("Seaward slope added.");
          $("#droppable").addClass("bpoolSlope");
	  setTimeout(
		  function(){
			  $("#myInstruction").text("Visualising overtopping for: Wave height - 3m; Wave period - 8 secs; Freeboard at HW - +1m") 
		  },3000);
	  setTimeout(
		  function(){
			  $("#myInstruction").text("Visualisation finished. Add another defence type or view results.")
			  $("#middleBoxdiv").removeClass("slopeElem")
			  $("#middleBoxdiv").addClass("slopeResultblackpool")
			  if (nruns==1){
			      var $input = $('<input class=resetButton type="button" onClick="viewResults()" value="View results" />');
                               $input.appendTo($("#dynamicinstructionBox"));
			  }
                          
	          },9000); 
      }
	      
 
      if((ui.draggable.is(".wallElem"))&&(stage>1&&bpwall!=="run")){
	  bpwall = "run"
	  nruns = nruns + 1
	  $("#myInstruction").text("Sea wall added.");
          $("#droppable").addClass("bpoolWall");
	  setTimeout(
		  function(){
			  $("#myInstruction").text("Visualising overtopping for: Wave height - 3m; Wave period - 8 secs; Freeboard at HW - +1m") 
		  },3000);
	  setTimeout(
		  function(){
			  $("#myInstruction").text("Visualisation finished. Add another defence type or view results.")
			  $("#bottomBoxdiv").removeClass("wallElem")
			  $("#bottomBoxdiv").addClass("wallResultblackpool")
			  if (nruns==1){
			      var $input = $('<input class=resetButton type="button" onClick="viewResults()" value="View results" />');
                               $input.appendTo($("#dynamicinstructionBox"));
			  }	  
                          
	          },9000); 
      }
	      
	      
	      
      stage = stage + 1;
      tpbp = tpbp + 1;
      slbp = slbp + 1;
      wabp = wabp + 1;
    }, tolerance: "touch"
  });
});
	
function viewResults() {
	$("#droppable").addClass("container")
	$("#droppable").removeClass("newclassBpool")
	$("#droppable").removeClass("bpoolTetrapods")
	$("#myVisualisationtext").text("Results viewer")
	$("#myInstruction").text("Drag one or more result folders into the results viewer.");
}
	



</script>


</head>

<body>

	<header>
<div class="nav-bar">
		<a href="#" id="logo"></a>

		<nav>

			<a href="#" id="menu-icon"></a>

			<ul>

				<li><a href="https://johnmaskell.github.io/" class="current">Home</a></li>
				<li><a href="#">About us</a></li>
				<li>
				<div class="dropdown">	
				<a href="#">Expertise</a>
				<div class="dropdown-content">

    <a href="#">Tidal modelling</a>

    <a href="#">Wave Modelling</a>

    <a href="#">Sediment transport</a>

    <a href="#">Coastal modelling</a>

    <a href="#">Defence modelling</a>

    <a href="#">In-house solutions</a>
					</div>
</div>
				</li>
				<li><a href="#">Projects</a></li>
				<li><a href="#">News</a></li>
        <li><a href="#">Blog</a></li>
			</ul>

		</nav>
		</div>
	</header>
	
	<div class="spacer"></div>
<div class="mainContainer">
	<div class="myBanner">
<div class="imgcontainer">
<img src="https://zu8ppw-bn1306.files.1drv.com/y3m5iqjpJH6lipUmwetcExOlpYeodotdWLuA83N2jl0MZEwOhUxG8nLyeRmQuYI8cTmBSAoFEdDAw1gLLl1FpmIAb9OEcK0ABwkopeN_97PaHVXHMnHpiBvv4CPkNzMzC-8e270TZFcIHkV2We8zU0PKXMQuDVy1QjQmyG0rVwicFU?width=1920&height=300&cropmode=none"/>
		</div>
	<h2><span>Overtopping</span></h2>
</div>

<div class="instructionBox" id="dynamicinstructionBox">
<p class="instructionText" id="myInstruction">Drag and drop a location into the visualisation area.</p>
<input class="resetButton" type="button" value="Reset" onClick="window.location.reload()" >
</div>
	
<div class="wrapper">

<div class="container" id="droppable">

<p class="visualisationText" id="myVisualisationtext">Visualisation area</p>

</div>

<div class="testcontainer">

<div class="dragBoxblackpool" id="topBoxdiv">

</div>

<div class="dragBoxblackpool" id="middleBoxdiv">

</div>

<div class="dragBoxblackpool" id="bottomBoxdiv">

</div>

</div>

</div>
	
	
	

</div>
<script type="text/javascript"> // RELOADS WEBPAGE WHEN MOBILE ORIENTATION CHANGES  
    window.onorientationchange = function() { 
        var orientation = window.orientation; 
            switch(orientation) { 
                case 0:
                case 90:
                case -90: window.location.reload(); 
                break; } 
};
	</script>

<footer class="footer-distributed">



			<div class="footer-left">



				<img src="https://l2yxxw-bn1306.files.1drv.com/y3moxYr-eUDGUROt-fQ5bkLaWArqlnLSAztzLRCVeMOHxfoDWZ0p1Nig7T6XUgKVl_7qiYDbeq2devYv3_ZKESbGDHphV1WaGr-OhD3MZPvcbVRL1ZLAJ4psTF8MZ8T_lguXYrKNC4CxSAXmSofQ6R2AwXGbTA1wsrTwjVR1w8-ENE?width=500&height=500&cropmode=none" width="100" height="100" />



				<p class="footer-links">

					<a href="#">Home</a>

					·

					<a href="#">Blog</a>

					·

					<a href="#">Pricing</a>

					·

					<a href="#">About</a>

					·

					<a href="#">Faq</a>

					·

					<a href="#">Contact</a>

				</p>



				<p class="footer-company-name">JMCoastal &copy; 2016</p>

			</div>



			<div class="footer-center">



				<div>

					<i class="fa fa-map-marker"></i>

					<p><span></span>Avinguda de Madrid, 38 </br>Barcelona, Spain</p>

				</div>



				<div>

					<i class="fa fa-phone"></i>

					<p>+1 555 123456</p>

				</div>



				<div>

					<i class="fa fa-envelope"></i>

					<p><a href="mailto:info@jmcoastal.co.uk">info@jmcoastal.co.uk</a></p>

				</div>



			</div>



			<div class="footer-right">



				<p class="footer-company-about">

					<span>About the company</span>

					We specialise in coastal modelling projects.

				</p>



				<div class="footer-icons">



					<a href="#"><i class="fa fa-facebook"></i></a>

					<a href="#"><i class="fa fa-twitter"></i></a>

					<a href="#"><i class="fa fa-linkedin"></i></a>

					



				</div>



			</div>



		</footer>

	
</body>

</html>
